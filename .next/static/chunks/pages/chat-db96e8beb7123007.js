(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{8752:function(r,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return e(4770)}])},4770:function(r,t,e){"use strict";e.r(t),e.d(t,{default:function(){return m}});var a=e(5893),i=e(5717),n=e(7294),s=e(6186),o=e(1181),u=e(1163);function c(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=r[e];return a}function l(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var a,i,n=[],s=!0,o=!1;try{for(e=e.call(r);!(s=(a=e.next()).done)&&(n.push(a.value),!t||n.length!==t);s=!0);}catch(u){o=!0,i=u}finally{try{s||null==e.return||e.return()}finally{if(o)throw i}}return n}}(r,t)||function(r,t){if(!r)return;if("string"===typeof r)return c(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(r){var t=l(n.useState(""),2),e=t[0],s=t[1];return(0,a.jsxs)(i.xu,{styleSheet:{position:"relative"},children:[(0,a.jsx)(i.zx,{styleSheet:{borderRadius:"50%",padding:"0 3px 0 0",minWidth:"50px",minHeight:"50px",fontSize:"20px",marginBottom:"8px",lineHeight:"0",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:o.rS.O.O.wl,filter:e?"grayscale(0)":"grayscale(1)",hover:{filter:"grayscale(0)"}},label:"\ud83d\ude0b",onClick:function(){return s(!e)}}),e&&(0,a.jsxs)(i.xu,{styleSheet:{display:"flex",flexDirection:"column",borderRadius:"5px",position:"absolute",backgroundColor:o.rS.O.O.YY,width:{xs:"200px",sm:"290px"},height:"300px",right:"30px",bottom:"30px",padding:"16px",boxShadow:"rgba(4, 4, 5, 0.15) 0px 0px 0px 1px, rgba(0, 0, 0, 0.24) 0px 8px 16px 0px"},onClick:function(){return s(!1)},children:[(0,a.jsx)(i.xv,{styleSheet:{color:o.rS.O.O.M6,fontWeight:"bold"},children:"Stickers"}),(0,a.jsx)(i.xu,{tag:"ul",styleSheet:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",flex:1,paddingTop:"16px",overflow:"scroll"},children:o.xe.map((function(t){return(0,a.jsx)(i.xv,{onClick:function(){Boolean(r.onStickerClick)&&r.onStickerClick(t)},tag:"li",styleSheet:{width:"50%",borderRadius:"5px",padding:"10px",focus:{backgroundColor:o.rS.O.O.RW},hover:{backgroundColor:o.rS.O.O.RW}},children:(0,a.jsx)(i.Ee,{src:t})},t)}))})]})]})}function g(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=r[e];return a}function p(r){return function(r){if(Array.isArray(r))return g(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(!r)return;if("string"===typeof r)return g(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return g(r,t)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=(0,s.eI)("https://zlkcmswilkzfdedbocen.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTY0MzM3Nzg4MiwiZXhwIjoxOTU4OTUzODgyfQ.fbJ74kjoUkVEXszN-Orw2eiXDIl4GMjTUmPTev7c2qE");function m(){var r=function(r){var t={de:c,texto:r};f.from("messages").insert([t]).then((function(r){r.data})),s("")},t=(0,n.useState)(""),e=t[0],s=t[1],c=(0,u.useRouter)().query.username,l=(0,n.useState)([]),g=l[0],m=l[1];return(0,n.useEffect)((function(){f.from("messages").select("*").order("id",{ascending:!1}).then((function(r){var t=r.data;m(t)}));var r,t=(r=function(r){m((function(t){return[r].concat(p(t))}))},f.from("messages").on("INSERT",(function(t){r(t.new)})).subscribe());return function(){t.unsubscribe()}}),[]),(0,a.jsx)(i.xu,{styleSheet:{display:"flex",alignItems:"center",justifyContent:"center",backgroundImage:"url(https://virtualbackgrounds.site/wp-content/uploads/2020/09/think-outside-the-box-plaque.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundBlendMode:"multiply",color:o.rS.O.O.M6},children:(0,a.jsxs)(i.xu,{styleSheet:{display:"flex",flexDirection:"column",flex:1,boxShadow:"0 2px 10px 0 rgb(0 0 0 / 20%)",borderRadius:"5px",backgroundColor:o.rS.O.O.qy,height:"100%",maxWidth:"95%",maxHeight:"95vh",padding:"32px"},children:[(0,a.jsx)(d,{}),(0,a.jsxs)(i.xu,{styleSheet:{position:"relative",display:"flex",flex:1,height:"80%",backgroundColor:o.rS.O.O.RW,flexDirection:"column",borderRadius:"5px",padding:"16px"},children:[(0,a.jsx)(w,{mensagens:g}),(0,a.jsxs)(i.xu,{as:"form",styleSheet:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(i.nv,{value:e,onChange:function(r){var t=r.target.value;s(t)},onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),r(e))},placeholder:"Insira sua mensagem aqui...",type:"textarea",styleSheet:{width:"100%",border:"0",resize:"none",borderRadius:"5px",padding:"6px 8px",backgroundColor:o.rS.O.O.YY,marginRight:"12px",color:o.rS.O.O.Ug}}),(0,a.jsx)(h,{onStickerClick:function(t){r("sticker:"+t)}})]})]})]})})}function d(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(i.xu,{styleSheet:{width:"100%",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,a.jsx)(i.xv,{variant:"heading5",children:"Chat"}),(0,a.jsx)(i.zx,{variant:"tertiary",colorVariant:"neutral",label:"Logout",href:"/"})]})})}function w(r){return console.log(r),(0,a.jsx)(i.xu,{tag:"ul",styleSheet:{overflow:"scroll",display:"flex",flexDirection:"column-reverse",flex:1,color:o.rS.O.O.M6,marginBottom:"16px"},children:r.mensagens.map((function(r){return(0,a.jsxs)(i.xv,{tag:"li",styleSheet:{borderRadius:"5px",padding:"6px",marginBottom:"12px",hover:{backgroundColor:o.rS.O.O.qy}},children:[(0,a.jsxs)(i.xu,{styleSheet:{marginBottom:"8px"},children:[(0,a.jsx)(i.Ee,{styleSheet:{width:"20px",height:"20px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},src:"https://github.com/".concat(r.de,".png")}),(0,a.jsx)(i.xv,{tag:"strong",children:r.de}),(0,a.jsx)(i.xv,{styleSheet:{fontSize:"10px",marginLeft:"8px",color:o.rS.O.O.wl},tag:"span",children:(new Date).toLocaleDateString()})]}),r.texto.startsWith("sticker:")?(0,a.jsx)(i.Ee,{src:r.texto.replace("sticker:","")}):r.texto]},r.id)}))})}},1181:function(r){"use strict";r.exports=JSON.parse('{"u2":"Entre com sua conta do GitHub","rS":{"O":{"T":{"pl":"#1FE9FF","RW":"#0AE7FF","qy":"#00DCF5"},"O":{"Ug":"#CBD2D9","wl":"#9AA5B1","RW":"#29333D","qy":"#212931","YY":"#181F25","H":"#101418","jh":"#080A0C","M6":"#FFFFFF"}}},"xe":["https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_1.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_2.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_3.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_4.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_5.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_6.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_7.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_8.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_9.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_10.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_11.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_12.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_13.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_14.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_15.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_16.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_17.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_18.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_19.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_20.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_21.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_22.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_23.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_24.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_25.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_26.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_27.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_28.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_29.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_30.png","http://2.bp.blogspot.com/-d21tffsTIQo/U_H9QjC69gI/AAAAAAAAKqM/wnvOyUr6a_I/s1600/Pikachu%2B2.gif","https://media1.giphy.com/media/BdghqxNFV4efm/200.gif","https://c.tenor.com/TKpmh4WFEsAAAAAC/alura-gaveta-filmes.gif","https://i.pinimg.com/originals/0b/1c/23/0b1c2307c83e1ebdeed72e41b9a058ad.gif","https://c.tenor.com/VylWt5lyjBoAAAAC/omg-yes.gif","https://i.pinimg.com/originals/96/34/c5/9634c520c9a3cd4e7f23190bb2c96500.gif"]}')}},function(r){r.O(0,[445,497,186,774,888,179],(function(){return t=8752,r(r.s=t);var t}));var t=r.O();_N_E=t}]);